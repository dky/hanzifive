"use strict";(()=>{var e={};e.id=124,e.ids=[124],e.modules={846:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1421:e=>{e.exports=require("node:child_process")},1455:e=>{e.exports=require("node:fs/promises")},1708:e=>{e.exports=require("node:process")},3024:e=>{e.exports=require("node:fs")},3033:e=>{e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3873:e=>{e.exports=require("path")},4870:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},5242:(e,r,t)=>{t.r(r),t.d(r,{patchFetch:()=>q,routeModule:()=>c,serverHooks:()=>k,workAsyncStorage:()=>x,workUnitAsyncStorage:()=>l});var s={};t.r(s),t.d(s,{GET:()=>p,POST:()=>u});var o=t(6559),n=t(8088),a=t(7719),d=t(2190),i=t(5069);async function p(){try{let e=(await i.db.deck.findMany({include:{flashcards:{select:{id:!0}}},orderBy:{createdAt:"desc"}})).map(e=>({id:e.id,name:e.name,description:e.description,createdAt:e.createdAt,updatedAt:e.updatedAt,cardCount:e.flashcards.length}));return d.NextResponse.json(e)}catch(e){return console.error("Error fetching decks:",e),d.NextResponse.json({message:"Failed to fetch decks"},{status:500})}}async function u(e){try{let{name:r,description:t}=await e.json();if(!r)return d.NextResponse.json({message:"Deck name is required"},{status:400});let s=await i.db.deck.create({data:{name:r,description:t}});return d.NextResponse.json(s,{status:201})}catch(e){return console.error("Error creating deck:",e),d.NextResponse.json({message:"Failed to create deck"},{status:500})}}let c=new o.AppRouteRouteModule({definition:{kind:n.RouteKind.APP_ROUTE,page:"/api/decks/route",pathname:"/api/decks",filename:"route",bundlePath:"app/api/decks/route"},resolvedPagePath:"/Users/evangelosmeklis/hanzifive/src/app/api/decks/route.ts",nextConfigOutput:"standalone",userland:s}),{workAsyncStorage:x,workUnitAsyncStorage:l,serverHooks:k}=c;function q(){return(0,a.patchFetch)({workAsyncStorage:x,workUnitAsyncStorage:l})}},6698:e=>{e.exports=require("node:async_hooks")},6760:e=>{e.exports=require("node:path")},7066:e=>{e.exports=require("node:tty")},7598:e=>{e.exports=require("node:crypto")},7975:e=>{e.exports=require("node:util")},8161:e=>{e.exports=require("node:os")},8474:e=>{e.exports=require("node:events")},9021:e=>{e.exports=require("fs")},9294:e=>{e.exports=require("next/dist/server/app-render/work-async-storage.external.js")}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[447,580,33],()=>t(5242));module.exports=s})();