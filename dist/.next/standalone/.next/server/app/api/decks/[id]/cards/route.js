"use strict";(()=>{var e={};e.id=946,e.ids=[946],e.modules={846:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1405:(e,r,s)=>{s.r(r),s.d(r,{patchFetch:()=>h,routeModule:()=>p,serverHooks:()=>x,workAsyncStorage:()=>c,workUnitAsyncStorage:()=>l});var t={};s.r(t),s.d(t,{POST:()=>u});var a=s(6559),o=s(8088),d=s(7719),n=s(2190),i=s(5069);async function u(e,{params:r}){let{id:s}=await r;try{let{flashcardId:r}=await e.json();if(!r)return n.NextResponse.json({message:"Flashcard ID is required"},{status:400});if(!await i.db.deck.findUnique({where:{id:s}}))return n.NextResponse.json({message:"Deck not found"},{status:404});if(!await i.db.flashcard.findUnique({where:{id:r}}))return n.NextResponse.json({message:"Flashcard not found"},{status:404});if(await i.db.deck.findFirst({where:{id:s,flashcards:{some:{id:r}}}}))return n.NextResponse.json({message:"Flashcard is already in the deck"},{status:400});let t=await i.db.deck.update({where:{id:s},data:{flashcards:{connect:{id:r}}},include:{flashcards:!0}});return n.NextResponse.json({message:"Flashcard added to deck successfully",deck:t})}catch(e){return console.error(`Error adding flashcard to deck ${s}:`,e),n.NextResponse.json({message:"Failed to add flashcard to deck"},{status:500})}}let p=new a.AppRouteRouteModule({definition:{kind:o.RouteKind.APP_ROUTE,page:"/api/decks/[id]/cards/route",pathname:"/api/decks/[id]/cards",filename:"route",bundlePath:"app/api/decks/[id]/cards/route"},resolvedPagePath:"/Users/evangelosmeklis/hanzifive/src/app/api/decks/[id]/cards/route.ts",nextConfigOutput:"standalone",userland:t}),{workAsyncStorage:c,workUnitAsyncStorage:l,serverHooks:x}=p;function h(){return(0,d.patchFetch)({workAsyncStorage:c,workUnitAsyncStorage:l})}},1421:e=>{e.exports=require("node:child_process")},1455:e=>{e.exports=require("node:fs/promises")},1708:e=>{e.exports=require("node:process")},3024:e=>{e.exports=require("node:fs")},3033:e=>{e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3873:e=>{e.exports=require("path")},4870:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},6698:e=>{e.exports=require("node:async_hooks")},6760:e=>{e.exports=require("node:path")},7066:e=>{e.exports=require("node:tty")},7598:e=>{e.exports=require("node:crypto")},7975:e=>{e.exports=require("node:util")},8161:e=>{e.exports=require("node:os")},8474:e=>{e.exports=require("node:events")},9021:e=>{e.exports=require("fs")},9294:e=>{e.exports=require("next/dist/server/app-render/work-async-storage.external.js")}};var r=require("../../../../../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),t=r.X(0,[447,580,33],()=>s(1405));module.exports=t})();